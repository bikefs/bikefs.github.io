---
title: "Sunday Service LS7"
description: |
  Community bike fixing in Chapeltown Leeds
# author:
#   - name: Nora Jones 
#     url: https://example.com/norajones
#     affiliation: Spacely Sprockets
#     affiliation_url: https://example.com/spacelysprokets
# date: "`r Sys.Date()`"
output: distill::distill_article
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(tidyverse)
library(tmap)
tmap_mode("view")
# Learn more about creating websites with Distill at:
# https://rstudio.github.io/distill/website.html

# Learn more about publishing to GitHub Pages at:
# https://rstudio.github.io/distill/publish_website.html#github-pages

```

```{r, eval=FALSE}
# get area representing leeds
leeds = ukboundaries::leeds
postcodes = readRDS("~/hd/data/uk/postcodes/postcodes_all_2020_ONSPD_AUG_2020_UK_lonlat.Rds")
postcodes_leeds = postcodes %>% 
  filter(str_detect(string = pcds, pattern = "^LS"))
postcodes_ls7 = postcodes %>% 
  filter(str_detect(string = pcds, pattern = "^LS7"))
postcodes_ls7_sf = postcodes_ls7 %>% 
  filter(lat < 60 & lat > 53.8) %>% 
  sf::st_as_sf(coords = c("long", "lat"), crs = 4326)
mapview::mapview(postcodes_ls7_sf) # identify dodgy data
postcodes_ls7_sf = postcodes_ls7_sf %>% 
  filter(!str_detect(string = pcds, pattern = "LS7 4ZB"))
postcodes_boundary = postcodes_ls7_sf %>% 
  # sf::st_union() %>% 
  # sf::st_convex_hull()
  concaveman::concaveman(concavity = 4) %>% 
  sf::st_buffer(50) %>% 
  rmapshaper::ms_simplify()
mapview::mapview(postcodes_boundary)
sf::write_sf(postcodes_boundary, "ls7.geojson")
```

Find us at the Coach House towards the end of Back Newton Grove.
It's just off Chapeltown Road and next to Potternewton park, where we open 2pm - 5pm most Sundays.
The map below shows we're within 500m walking distance of lots of streets in the LS7 postcode.

```{r}
ls7 = sf::read_sf("https://github.com/bikefs/ls7/raw/main/ls7.geojson")
m = mapview::mapview(ls7)
# sunday_service = mapedit::drawFeatures(map = m)
sunday_service = sf::st_as_sf(data.frame(x = -1.5293, y = 53.8183), coords = c("x", "y"), crs = 4326)
sunday_service$text = "Sunday Service LS7"
# ss_bbox = sf::st_buffer(sunday_service, 500)
ss_bbox = stplanr::geo_buffer(sunday_service, dist = 500)
ss_bbox_100m = stplanr::geo_buffer(sunday_service, dist = 200)
tm_shape(ls7, bbox = ss_bbox) +
  tm_borders() +
  tm_shape(ss_bbox) +
  tm_borders(lty = 3) +
  tm_shape(sunday_service) +
  tm_markers() +
  tm_view(bbox = ss_bbox_100m) +
  tm_basemap(leaflet::providers$OpenStreetMap)
```

We don't fix your bike.
We help people fix their own bikes, so you can fix it next time in needs a basic repair and share the knowledge.

You need to fill in a short form telling us what you would like to fix on your bike and what time you plan to arrive.
To book you bike in for the next Sunday that we're open, please fill in the form here: https://forms.gle/WVeLv2QKKkoByDpi8

For further info see our [about](about.html) page and our Facebook page (to be created).

